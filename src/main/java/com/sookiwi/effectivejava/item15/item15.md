# 클래스와 맴버의 접근범위를 최소화하라(WIP)

information hiding 또는 encapsulation은 중요하다.

인포메이션 하이딩을 잘 하면 컴포넌트와 시스템을 디커플링해서, 개발, 테스트, 최적화, 사용, 이해, 수정을 단독적으로 가능하게 한다. 그 자체로는 오버헤드가 있을지라도, 효과적인 퍼포먼스 튜닝이 가능하도록 한다.

information hiding의 메커니즘은 여럿이 있는데 접근범위도 그 중 하나이다. access modifiers(private, protected, and public)에 의해 결정된다.

룰오브썸: **각 클래스나 멤버를 접근하기 가장 어렵게 하라make each class or member as inaccessible as possible**

네스티드 되지 않은 클래서는 package-private와 public만 가능하다. 패키지 프라이베이트 할 수 있으면, 그렇게 하라. 그렇게 하면 그 클래서는 API가 아니라 내부 구현이 된다. 따라서 마음대로 고치고 삭제하고가 가능하다. 퍼블릭으로 만들면 API를 열어 놓은 것이니, 나중에 수정이 어렵다.

한 클래스에 의해서만 쓰이는 클래스가 있으면, private static nested class로 만드는 것을 고려하라. 그래도 더 중요한건 public을 줄이는 것이다.

멤버는, 일단 private로 하고, 필요하다면 package-private(default)로 푼다. 이걸 너무 자주한다는 생각이 들면, 디자인이 제대로 되었는지 다시 생각해볼 필요가 있다. 이 두가지는 숨겨져 있지만, Serializable을 구현한 경우 외부로 "새어나갈" 수 있다.

여기에서 protected로 가게 되면 접근성에 큰 변화가 있는 것이다. 프로텍티드는 외부로 나가는 API의 일부이며, 영원히 보장되어야 할 필요가 있다. 그리고, 프로텍티드 멤버는 구현 디테일에 대한 퍼블릭으로부터의 커밋먼트를 의미하므로, 상대적으로 프로텍티드가 필요한 경우는 적다.

메소드의 접근권한을 줄이는 주요 법칙이 있다.
